<?xml version="1.0" encoding="UTF-8" ?><!-- -*- coding: utf-8 ; mode: xml -*- -->
<html>
<head>
<style type="text/css">
body
{
  background-color: #ffffff;
  color: #000000;
  margin: 0;
  padding: 0;
}
div.contents 
{
  width: 460px;
  margin: 42px;
  white-space: nowrap;
  border: 1px solid #000000;
}
h2
{
  background-color: #0fafaf;
  margin-top: 0;
  margin-bottom: 0;
}
table
{
  margin-top: 0;
  margin-bottom: 10px;
  padding: 10px;
}
table th
{
  text-align: left;
}
</style>
<script type="text/javascript">
  function restore_options() {
    var opts_1 = localStorage.getItem("opts_enabled_default");
    if(opts_1 == undefined || opts_1 == "undefined") {
      localStorage["opts_enabled_default"] = true;
    }
    var opts_2 = localStorage.getItem("opts_external_link_only_default");
    if(opts_2 == undefined || opts_2 == "undefined") {
      localStorage["opts_external_link_only_default"] = false;
    }
    
    var input_enabled = document.getElementsByName("enabled");
    for(var i in input_enabled) {
      var c = input_enabled[i];
      if(c.value == (""+localStorage["opts_enabled_default"])) {
        c.checked = true;
      }
    }
  
    var input_exclude_same_hostname = document.getElementsByName("exclude_same_hostname");
    for(var i in input_exclude_same_hostname) {
      var c = input_exclude_same_hostname[i];
      if(c.value == (""+localStorage["opts_external_link_only_default"])) {
        c.checked = true;
      }
    }
  }
  
  function save_options() {
  
    var input_enabled = document.getElementsByName("enabled");
    for(var i in input_enabled) {
      var c = input_enabled[i];
      if(c.checked == true) {
        localStorage["opts_enabled_default"] = JSON.parse(c.value);
      }
    }

    var input_exclude_same_hostname = document.getElementsByName("exclude_same_hostname");
    for(var i in input_exclude_same_hostname) {
      var c = input_exclude_same_hostname[i];
      if(c.checked == true) {
        localStorage["opts_external_link_only_default"] = JSON.parse(c.value);
      }
    }    
  }

  function set_text() {
    // other settings
    var e = document.getElementById("opts_title");
    var t = document.createTextNode(chrome.i18n.getMessage("opts_title"));
    e.appendChild(t);

    e = document.getElementById("opts_title_enabled");
    t = document.createTextNode(chrome.i18n.getMessage("opts_title_enabled"));
    e.appendChild(t);
    e = document.getElementById("opts_title_exclude");
    t = document.createTextNode(chrome.i18n.getMessage("opts_title_exclude"));
    e.appendChild(t);

    e = document.getElementById("opts_button_reset");
    t = document.createTextNode(chrome.i18n.getMessage("opts_button_reset"));
    e.appendChild(t);
    e = document.getElementById("opts_button_save");
    t = document.createTextNode(chrome.i18n.getMessage("opts_button_save"));
    e.appendChild(t);
  }

</script>
</head>
<body onload="restore_options(); set_text()">
  <h1>Open PinnedTab Link</h1>
  <div class="contents">
    <h2 id="opts_title"></h2>
    <table>
      <tr>
	<th id="opts_title_enabled"></th>
	<td><input type="radio" name="enabled" value="true"/>True <br />
	  <input type="radio" name="enabled" value="false"/>False
	</td>
      </tr>
      
      <tr>
      <th id="opts_title_exclude"></th>
      <td><input type="radio" name="exclude_same_hostname" value="true"/>True <br />
	<input  type="radio" name="exclude_same_hostname" value="false"/>False
      </td>
      </tr>
    </table>
    
    <button onclick="restore_options()" id="opts_button_reset"></button>
    <button onclick="save_options()" id="opts_button_save"></button>
  </div>  
</body>
</html>
